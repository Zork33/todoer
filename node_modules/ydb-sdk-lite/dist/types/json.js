"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stringifyJsonIfNeeded = void 0;
/**
 * Json types convertion.
 */
const bundle_1 = require("../../proto/bundle");
const jsonTypes = [
    bundle_1.Ydb.Type.PrimitiveTypeId.JSON,
    bundle_1.Ydb.Type.PrimitiveTypeId.JSON_DOCUMENT
];
/**
 * Automatically strigify json params.
 */
function stringifyJsonIfNeeded(typeId, value) {
    return (jsonTypes.includes(typeId) && typeof value !== 'string')
        ? JSON.stringify(value)
        : value;
}
exports.stringifyJsonIfNeeded = stringifyJsonIfNeeded;
//# sourceMappingURL=json.js.map